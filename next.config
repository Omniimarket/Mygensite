// next.config.js
const { generatorDetails } = require('./data/generatorsData');

/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,

  async redirects() {
    const redirects = [];

    // Generate a redirect for every generator in generatorDetails
    for (const slug of Object.keys(generatorDetails)) {
      redirects.push({
        source: `/${slug}`,
        destination: `/generators/${slug}`,
        permanent: true, // 301 redirect â€“ passes SEO value
      });
    }

    return redirects;
  },

  // Optional: Enable rewrites if you want clean preview URLs or localization later
  // async rewrites() { ... }
};

module.exports = nextConfig;